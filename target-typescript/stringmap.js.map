{"version":3,"file":"stringmap.js","sourceRoot":"","sources":["../stringmap.ts"],"names":[],"mappings":"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","sourcesContent":["\nexport class StringMap<V, K extends string = string> {\n\n    /** @internal */\n    private _keyCount = 0;\n    /** @internal */\n    private _map: {\n      [key: string]: V,\n      [key: number]: V\n    } = Object.create(null);\n\n    constructor(source?: [K,V][]) {\n      if(source) {\n        for(const [k,v] of source) {\n          this.set(k,v);\n        }\n      }\n    }\n\n    clear() {\n      this._map = Object.create(null);\n      this._keyCount = 0;\n    }\n\n    delete(key: K): boolean {\n      const had = this.has(key);\n      delete this._map[key];\n      if(had) {\n        this._keyCount -= 1;\n      }\n      return had;\n    }\n\n    forEach(callback: (value: V, key: K, map: StringMap<V,K>) => void, thisArg?: any): void {\n      for(const key in this._map) {\n        callback.call(thisArg, this._map[key], key, this);\n      }\n    }\n\n    get(key: K): V | undefined {\n      return this._map[key];\n    }\n\n    has(key: K): boolean {\n      return key in this._map;\n    }\n\n    set(key: K, value: V): this {\n      const had = this.has(key);\n      this._map[key] = value;\n      if(!had) {\n        this._keyCount += 1;\n      }\n      return this;\n    }\n\n    get size(): number {\n      return this._keyCount;\n    }\n\n    values() {\n      const values = [];\n      for(const key in this._map) values.push(this._map[key]);\n      return values;\n    }\n\n    keys() {\n      const keys = [];\n      for(const key in this._map) keys.push(key);\n      return keys;\n    }\n\n    entries() {\n      const entries = [];\n      for(const key in this._map) entries.push([key, this._map[key]]);\n      return entries;\n    }\n}\n\n\n\n\n"]}